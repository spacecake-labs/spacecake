---
title: claude code integration
description: Connect Claude Code to `spacecake` for file context and live session metrics.
---

## overview

`spacecake` integrates with [Claude Code](https://docs.anthropic.com/en/docs/claude-code) to give Claude context about your open files and display live session metrics.

## connecting claude code

run `claude` from the integrated terminal - it should automatically connect to spacecake, giving Claude context about your open files.

if Claude shows "IDE disconnected", run `/ide` to check the connection status. you should see spacecake listed and can select it to reconnect.

a green `claude` status badge in the header indicates an active Claude session is connected.

## status line

the status line displays live Claude Code session metrics in the terminal header badge:

- current model name
- context usage percentage
- session cost

### automatic setup

spacecake automatically configures Claude Code's status line hook when it detects a connected session. no manual setup is required.

if your `~/.claude/settings.json` already has a custom `statusLine` command (not managed by spacecake), you'll be prompted to either override it with the spacecake hook or dismiss the prompt and keep your existing configuration.

### manual setup

if you need to configure the status line manually, edit `~/.claude/settings.json` and set the `statusLine` command to the spacecake hook script:

```json
{
  "statusLine": {
    "type": "command",
    "command": "~/.spacecake/.app/hooks/statusline.sh"
  }
}
```

restart Claude Code after making changes.

### how it works

Claude Code runs the status line hook on each render. the spacecake hook script:

1. reads session JSON from stdin (model, context usage, cost)
2. checks if `~/.claude/spacecake.sock` exists (Unix socket)
3. POSTs the data to spacecake via the socket

if spacecake isn't running, the hook exits silently with no impact on Claude Code.

## troubleshooting

**IDE disconnected?**

- run `/ide` in Claude Code to check connection status
- select spacecake from the list to reconnect

**no status line data appearing?**

- make sure spacecake is running
- verify `~/.claude/settings.json` has the correct `statusLine` configuration
- restart Claude Code after making changes
