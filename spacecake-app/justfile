start:
    pnpm run start

lint:
    pnpm run lint

tc:
    pnpm run typecheck

check:
    just lint && just tc

unit:
    pnpm run unit-test

e2e filter="":
    pnpm run package && pnpm run e2e-test --grep="{{filter}}"

test:
    just unit && just e2e

codegen:
    pnpm run package && npx tsx scripts/playwright-codegen.ts

print-py-nodes file:
    npx tsx scripts/print-py-nodes.ts {{file}}

gif input:
    #!/usr/bin/env bash
    set -euo pipefail
    input="{{input}}"
    output="${input%.mov}.gif"
    echo "Converting $input to $output"
    ffmpeg -i "$input" -vf "fps=15,scale=320:-1:flags=lanczos" -y "$output"